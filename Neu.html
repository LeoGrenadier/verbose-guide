<!DOCTYPE html>
<html>
<head>

	<title>Interactive Map - Leaflet</title>

	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="leaflet.css"/>
  <script src="leaflet.js"></script>
	<script src="jquery-2.1.1.min.js"></script>

	<style>#map { width: 800px; height: 500px; }
.info { text-align: left; padding: 6px 8px; font: 14px/16px Arial, Helvetica, sans-serif; background: white; background: rgba(255,255,255,0.8); box-shadow: 0 0 15px rgba(0,0,0,0.2); border-radius: 5px; }
.info i{float: center}
.info h4 { margin: 0 0 5px; color: #777; }
.legend { text-align: left; line-height: 18px; color: #555; } .legend i { width: 18px; height: 18px; float: left; margin-right: 8px; opacity: 0.7; }

</style>
</head>
<body>
  <div id="map"></div>

	<script type="text/javascript"  src="Karavas.js"></script>

  <script type="text/javascript" src="Oikismoi.js"></script>



	<script type="text/javascript"  src="Oria.js"></script>



	<script>

	var map = L.map('map', {
			minZoom: 10,
			maxZoom: 15
		}).setView([37.962625,23.631119], 13);

L.control.scale().addTo(map);




//Create the layercontrol and add it to the map
var oikismoi = L.layerGroup();

karavas = L.geoJson(feature, {
	onEachFeature: function(feature,name ){
	name.bindPopup( '</b><br />' + '<b>' + "Καραβάς" )}

}).addTo(oikismoi);



$.getJSON('KaravasA.geojson', function (data) {
		L.geoJson(data,{
			style: function(feature){
			var fillColor,
			fillColor = "#f46d43";
			return {color:"#f46d43", weight: 2, fillColor: fillColor, fillOpacity: 1 };
	    },
			onEachFeature: function(feature,name ){
			name.bindPopup('</b><br />' + '<b>' + "Καραβάς Α" )}
	}).addTo(oikismoi);
	  });

		$.getJSON('Korydallos.geojson', function (data) {

		  // Use the data to create a GeoJSON layer and add it to the map
			L.geoJson(data,{
				style: function(feature){
				var fillColor,
				fillColor = "#fdae61";
				return {color:"#fdae61", weight: 2, fillColor: fillColor, fillOpacity: 1 };
		    },
				onEachFeature: function(feature,name ){
				name.bindPopup('</b><br />' + '<b>' + "Κορυδαλλός" )}
		}).addTo(oikismoi);
		  });

			$.getJSON('ApsraXwmata.geojson', function (data) {

			  // Use the data to create a GeoJSON layer and add it to the map
				L.geoJson(data,{
					style: function(feature){
					var fillColor,
					fillColor = "#fdae61";
					return {color:"#fdae61", weight: 2, fillColor: fillColor, fillOpacity: 1 };
			    },
					onEachFeature: function(feature,name ){
					name.bindPopup('</b><br />' + '<b>' + "Άσπρα Χώματα" )}
			}).addTo(oikismoi);
			  });

				$.getJSON('AnastasisB.geojson', function (data) {

				  // Use the data to create a GeoJSON layer and add it to the map
					L.geoJson(data,{
						style: function(feature){
						var fillColor,
						fillColor = "#fee090";
						return {color:"#fee090", weight: 2, fillColor: fillColor, fillOpacity: 1 };
				    },
						onEachFeature: function(feature,name ){
						name.bindPopup( '</b><br />' + '<b>' +"Ανάσταση Β" )}
				}).addTo(oikismoi);
				  });
					$.getJSON('AnastasisA.geojson', function (data) {

					  // Use the data to create a GeoJSON layer and add it to the map
						L.geoJson(data,{
							style: function(feature){
							var fillColor,
							fillColor = "#e0f3f8";
							return {color:"#e0f3f8", weight: 2, fillColor: fillColor, fillOpacity: 1 };
					    },
							onEachFeature: function(feature,name ){
							name.bindPopup('</b><br />' + '<b>' + "Ανάσταση A" )}
					}).addTo(oikismoi);
					  });

						$.getJSON('Nikaia.geojson', function (data) {

						  // Use the data to create a GeoJSON layer and add it to the map
							L.geoJson(data,{
								style: function(feature){
								var fillColor,
								fillColor = "#abd9e9";
								return {color:"#abd9e9", weight: 2, fillColor: fillColor, fillOpacity: 1 };
						    },
								onEachFeature: function(feature,name ){
								name.bindPopup('</b><br />' + '<b>' + "Νικαια" )}
						}).addTo(oikismoi);
						  });

							$.getJSON('topo1.geojson', function (data) {

								// Use the data to create a GeoJSON layer and add it to the map
								L.geoJson(data,{
									style: function(feature){
									var fillColor,
									fillColor = "#74add1";
									return {color:"#74add1", weight: 2, fillColor: fillColor, fillOpacity: 1 };
							    },
									onEachFeature: function(feature,name ){
									name.bindPopup('</b><br />' + '<b>' + "topo1" )}
							}).addTo(oikismoi);
								});

								$.getJSON('topo2.geojson', function (data) {

								  // Use the data to create a GeoJSON layer and add it to the map
									L.geoJson(data,{
										style: function(feature){
										var fillColor,
										fillColor = "#4575b4";
										return {color:"#4575b4", weight: 2, fillColor: fillColor, fillOpacity: 1 };
								    },
										onEachFeature: function(feature,name ){
										name.bindPopup( '</b><br />' + '<b>' +"topo2" )}
								}).addTo(oikismoi);
								  });



L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
}).addTo(map);

var openTopoMap = L.tileLayer('https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png', {
maxZoom: 17,
attribution: 'Map data: &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'
}),
   streets   =  L.tileLayer('http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png', {
		maxZoom: 18,
		attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
		});

		var baseMaps = {
				"OpenTopoMap": openTopoMap,
				"Streets": streets
		};

		var overlayMaps = {
		    "Oikismoi": oikismoi
		};

		L.control.layers(baseMaps,overlayMaps).addTo(map);

		var baseMaps = {
			"<span style='color: gray'>OpenTopoMap</span>": openTopoMap,
			"Streets": streets
		};

L.geoJson(Data).addTo(map);

function getColor(d) {
    return d < 2 ? '#800026' :
           d < 4? '#BD0026' :
           d < 6  ? '#E31A1C' :
           d < 8   ? '#FD8D3C' :
           d < 10 ? '#FED976' :
					 d < 12  ? '#de75fe' :
					 d < 14   ? '#febc75' :
					 d < 16  ? '#FED976' :
					 d < 18   ? '#fefe75' :
					 d < 20   ? '#FED976' :
					 d < 22  ? '#FED976' :
					 d < 24  ? '#ef3f09' :
					 d < 26  ? '##FED976' :
					 d < 28  ? '#FED976' :
					 d < 30  ? '#7591fe' :
					 d < 32   ? '#7585fe' :
					 d < 34  ? '#75feae' :
                      '#FFEDA0';
}

//Next we define a styling function for our GeoJSON layer so that its fillColor depends on feature.properties.Name property, also adjusting the appearance a bit and adding a nice touch with dashed stroke.
function style(feature) {
    return {
        fillColor: getColor(feature.properties.Id),
        weight: 2,
        opacity: 1,
        color: 'white',
        dashArray: '3',
        fillOpacity: 0.7
    };
}

L.geoJson(Data, {style: style}).addTo(map);
//Now let’s make the states highlighted visually in some way when they are hovered with a mouse. First we’ll define an event listener for layer mouseover event:
function highlightFeature(e) {
    var layer = e.target;
		info.update(layer.feature.properties);

    layer.setStyle({
        weight: 5,
        color: '#666',
        dashArray: '',
        fillOpacity: 0.7
    });

    if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {
        layer.bringToFront();
    }
}
//Next we’ll define what happens on mouseout:
function resetHighlight(e) {
    geojson.resetStyle(e.target);
}

//As an additional touch, let’s define a click listener that zooms to the state:
function zoomToFeature(e) {
    map.fitBounds(e.target.getBounds());
}

//Now we’ll use the onEachFeature option to add the listeners on our state layers:
function onEachFeature(feature, layer) {
    layer.on({
        mouseover: highlightFeature,
        mouseout: resetHighlight,
        click: zoomToFeature
    });
}

geojson = L.geoJson(Data, {
    style: style,
    onEachFeature: onEachFeature
}).addTo(map);

var info = L.control();

info.onAdd = function (map) {
    this._div = L.DomUtil.create('div', 'info'); // create a div with a class "info"
    this.update();
    return this._div;
};

// method that we will use to update the control based on feature properties passed
info.update = function (props) {
    this._div.innerHTML = '<h4>Piraeues refugee settlements</h4>' +  (props ?
        '<b>' + props.Name + '</b><br />' + 'Έτος ίδρυσης:' + ' '  + props.Date
        : 'Hover over a settlement');
};

info.addTo(map);

/*var legend = L.control({position: 'bottomright'});

legend.onAdd = function (map) {

    var div = L.DomUtil.create('div', 'info legend'),
        grades = [0, 10, 20, 50, 100, 200, 500, 1000],
        labels = [];

    // loop through our density intervals and generate a label with a colored square for each interval
    for (var i = 0; i < grades.length; i++) {
        div.innerHTML +=
            '<i style="background:' + getColor(grades[i] + 1) + '"></i> ' +
            grades[i] + (grades[i + 1] ? '&ndash;' + grades[i + 1] + '<br>' : '+');
    }

    return div;
};

legend.addTo(map);*/
</script>
</body>
</html>
